

-> Run below commands in Command Prompt to create docker images for zookeeper & kafka


1. docker run -d --name zookeeper -p 2181:2181 -e ZOOKEEPER_CLIENT_PORT=2181 -e ZOOKEEPER_TICK_TIME=2000 confluentinc/cp-zookeeper:7.5.0

  
2. docker run -d --name kafka -p 9092:9092 -e KAFKA_BROKER_ID=1 -e KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092 -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 --link zookeeper confluentinc/cp-kafka:7.5.0


-> To Start the zookeper container 

docker start zookeeper


-> To Start kafka container

docker start kafka


-> Run below commands in command prompt after creating & starting zookeeper & kafka docker images

1. To go inside kafka container

docker exec -it kafka bash

2. To create topic

kafka-topics --create --topic my-topic --bootstrap-server localhost:9092 --partitions 3 --replication-factor 1

3. To get all topics

kafka-topics --list --bootstrap-server localhost:9092

4. To describe the specific topic

kafka-topics --describe --topic my-topic --bootstrap-server localhost:9092

5. To start the kafka producer

kafka-console-producer --topic my-topic --bootstrap-server localhost:9092

6. Open new command promt and start the consumer to see live messages

kafka-console-consumer --topic my-topic --bootstrap-server localhost:9092 --from-beginning

7. To start consumer with Group

kafka-console-consumer --topic my-topic --bootstrap-server localhost:9092 --group my-group --from-beginning

8. To start producer with message keys so that messages will go to different groups of consumer based on keys

kafka-console-producer --topic my-topic --bootstrap-server localhost:9092 --property "parse.key=true" --property "key.separator=:"


9. To check the lag(message pending to read) details/ offset details

kafka-consumer-groups --bootstrap-server localhost:9092 --describe --group my-group